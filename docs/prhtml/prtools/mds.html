<html><body bgcolor="#3030a0"><table bgcolor="#eeeeee"  border="5" cellspacing="0" cellpadding="5" width="700" white-space="normal"  align="center"><tr><td><table border="0" cellspacing="0" cellpadding="3" width="100%" align="center"><tr><td><a href="../prtools.html">PRTools Contents</a></td><td><p align="right"><a href="http://37steps.com/prtools/" target="_top">PRTools User Guide</a></p></td></tr></table><head><title>mds</title></head>
<p align="center"><font face="Courier" size=5><strong>MDS</strong></font></p>
<h3> Trainable mapping for multidimensional scaling, a variant of Sammon mapping 
</h3>
<p>
</p>
<p><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;[W,J,STRESS] = MDS(DT,Y,OPTIONS)</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;[W,J,STRESS] = MDS(DT,K,OPTIONS)</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;[W,J,STRESS] = DT*MDS([],K,OPTIONS)</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;[W,J,STRESS] = DT*MDS(K,OPTIONS)</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X = DS*W</font><br>
</p>
<p></p>
<p></p><p>
<table cellspacing="0" cellpadding="3" width="100%" align="center" border="0"<tr> <td width="100"><font size="4"><strong>Input</strong></font></td><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;DT</font></td><td valign="baseline"><font face="Courier" size="2">       </font>Square<font face="Courier" size="2"> (M </font>x<font face="Courier" size="2"> M) </font>dissimilarity matrix used for training<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;DS</font></td><td valign="baseline"><font face="Courier" size="2">       N </font>x<font face="Courier" size="2"> M </font>dissimilarity matrix between testset and trainset<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;Y</font></td><td valign="baseline"><font face="Courier" size="2">        M </font>x<font face="Courier" size="2"> K </font>matrix containing starting target configuration, or<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;K</font></td><td valign="baseline"><font face="Courier" size="2">        </font>Desired output dimensionality (default<font face="Courier" size="2"> 2) </font><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;OPTIONS</font></td><td valign="baseline">  Various parameters of the  minimisation procedure put into&nbsp; a structure consisting of the following fields: 'q', 'optim',&nbsp; 'init','etol','maxiter', 'isratio', 'itmap', 'st' and 'inspect'&nbsp; (default:</td></tr></table>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.optim&nbsp;&nbsp;&nbsp;=&nbsp;'pn'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.init&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;'cs'
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.etol&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1e-6&nbsp;(the&nbsp;precise&nbsp;value&nbsp;depends&nbsp;on&nbsp;q)
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.maxiter&nbsp;=&nbsp;100&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.isratio&nbsp;=&nbsp;0&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.itmap&nbsp;&nbsp;&nbsp;=&nbsp;'yes'&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.st&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;1&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIONS.inspect&nbsp;=&nbsp;2).
</font><br></p>
<p></p><p><table cellspacing="0" cellpadding="3" width="100%" align="center" border="0"<tr> <td width="120"><font size="4"><strong>Output</strong></font></td><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;W</font></td><td valign="baseline"><font face="Courier" size="2">        </font>Multidimensional scaling mapping<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;J</font></td><td valign="baseline"><font face="Courier" size="2">        </font>Index of points removed before optimisation<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;STRESS</font></td><td valign="baseline"><font face="Courier" size="2">   </font>Vector of stress values<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;X</font></td><td valign="baseline"><font face="Courier" size="2">        N </font>x<font face="Courier" size="2"> K </font>dataset with output configuration</td></tr></table>
</p><h3> Description</h3><p> Finds a nonlinear<font face="Courier" size="2"> MDS </font>map (a variant of the Sammon map) of objects&nbsp; represented by a symmetric distance matrix<font face="Courier" size="2"> D </font>with zero diagonal, given&nbsp; either the dimensionality<font face="Courier" size="2"> K </font>or the initial configuration<font face="Courier" size="2"> Y</font>. This is done&nbsp; in an iterative manner by minimizing the Sammon stress between the given&nbsp; dissimilarities<font face="Courier" size="2"> D (DT </font>or<font face="Courier" size="2"> DS) </font>and the distances<font face="Courier" size="2"> DY </font>in the<font face="Courier" size="2"> K-</font>dimensional&nbsp; target space<br></p>
<p><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;=&nbsp;1/(sum_{i&ltj}&nbsp;D_{ij}^(Q+2))&nbsp;sum_{i&ltj}&nbsp;(D_{ij}&nbsp;-&nbsp;DY_{ij})^2&nbsp;*&nbsp;D_{ij}^Q
</font><br></p>
<p> If D(i,j)<font face="Courier" size="2"> = 0 </font>for any different points i and j, then one of them is&nbsp; superfluous. The indices of these points are returned in<font face="Courier" size="2"> J</font>.</p>
<p> There is a simplified interface to<font face="Courier" size="2"> MDS</font>, called<font face="Courier" size="2"> SAMMONM</font>. The main&nbsp; differences are that<font face="Courier" size="2"> SAMMONM </font>operates on feature based datasets, while<font face="Courier" size="2"> MDS </font> expects dissimilarity matrices;<font face="Courier" size="2"> MDS </font>maps new objects by a second&nbsp; optimisation procedures minimizing the stress for the test objects, while&nbsp;<font face="Courier" size="2"> SAMMONM </font>uses a linear mapping between dissimilarities and the target&nbsp; space. See also<font face="Courier" size="2"> PREX_MDS </font>for examples.</p>
<p><font face="Courier" size="2"> OPTIONS </font>is an optional variable, using which the parameters for the mapping&nbsp; can be controlled. It may contain the following fields<br></p>
<p><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stress&nbsp;measure&nbsp;to&nbsp;use&nbsp;(see&nbsp;above):&nbsp;-2,-1,0,1&nbsp;or&nbsp;2.&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialisation&nbsp;method&nbsp;for&nbsp;Y:&nbsp;'randp',&nbsp;'randnp',&nbsp;'maxv',&nbsp;'cs'&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;'kl'.&nbsp;See&nbsp;MDS_INIT&nbsp;for&nbsp;an&nbsp;explanation.
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OPTIM&nbsp;&nbsp;&nbsp;&nbsp;Minimisation&nbsp;procedure&nbsp;to&nbsp;use:&nbsp;'pn'&nbsp;for&nbsp;Pseudo-Newton&nbsp;or
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'scg'&nbsp;for&nbsp;Scaled&nbsp;Conjugate&nbsp;Gradients.
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ETOL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tolerance&nbsp;of&nbsp;the&nbsp;minimisation&nbsp;procedure.&nbsp;Usually,&nbsp;it&nbsp;should&nbsp;be&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAXITER&nbsp;&nbsp;in&nbsp;the&nbsp;order&nbsp;of&nbsp;1e-6.&nbsp;If&nbsp;MAXITER&nbsp;is&nbsp;given&nbsp;(see&nbsp;below),&nbsp;then&nbsp;the&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;optimisation&nbsp;is&nbsp;stopped&nbsp;either&nbsp;when&nbsp;the&nbsp;error&nbsp;drops&nbsp;below&nbsp;ETOL&nbsp;or&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MAXITER&nbsp;iterations&nbsp;are&nbsp;reached.
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ISRATIO&nbsp;&nbsp;Indicates&nbsp;whether&nbsp;a&nbsp;ratio&nbsp;MDS&nbsp;should&nbsp;be&nbsp;performed&nbsp;(1)&nbsp;or&nbsp;not&nbsp;(0).
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;ISRATIO&nbsp;is&nbsp;1,&nbsp;then&nbsp;instead&nbsp;of&nbsp;fitting&nbsp;the&nbsp;dissimilarities&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D_{ij},&nbsp;A*D_{ij}&nbsp;is&nbsp;fitted&nbsp;in&nbsp;the&nbsp;stress&nbsp;function.&nbsp;The&nbsp;value&nbsp;A&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;estimated&nbsp;analytically&nbsp;in&nbsp;each&nbsp;iteration.
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ITMAP&nbsp;&nbsp;&nbsp;&nbsp;Determines&nbsp;the&nbsp;way&nbsp;new&nbsp;points&nbsp;are&nbsp;mapped,&nbsp;either&nbsp;in&nbsp;an&nbsp;iterative&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;manner&nbsp;('yes')&nbsp;by&nbsp;minimizing&nbsp;the&nbsp;stress;&nbsp;or&nbsp;by&nbsp;a&nbsp;linear&nbsp;projection&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;('no').
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Status,&nbsp;determines&nbsp;whether&nbsp;after&nbsp;each&nbsp;iteration&nbsp;the&nbsp;stress&nbsp;should&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;INSPECT&nbsp;&nbsp;be&nbsp;printed&nbsp;on&nbsp;the&nbsp;screen&nbsp;(1)&nbsp;or&nbsp;not&nbsp;(0).&nbsp;When&nbsp;INSPECT&nbsp;%gt&nbsp;0,&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ST&nbsp;=&nbsp;1&nbsp;and&nbsp;the&nbsp;mapping&nbsp;is&nbsp;onto&nbsp;2D&nbsp;or&nbsp;larger,&nbsp;then&nbsp;the&nbsp;progress&nbsp;
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;plotted&nbsp;during&nbsp;the&nbsp;minimisation&nbsp;every&nbsp;INSPECT&nbsp;iterations.
</font><br></p>
<p> Important<br><ul><li> It is assumed that<font face="Courier" size="2"> D </font>either is or approximates a Euclidean distance&nbsp; matrix, i.e<br> D_{ij}<font face="Courier" size="2"> = </font>sqrt (sum_k(x_i - x_j)^2).<li> Missing values can be handled; they should be marked by '<font face="Courier" size="2">NaN</font>' in<font face="Courier" size="2"> D</font>.</ul></p>
<p><font face="Courier" size="2"> EXAMPLES </font><br> opt.optim<font face="Courier" size="2"> = </font>'scg';</p><p><table cellspacing="0" cellpadding="3" width="100%" align="center" border="0"<tr> <td width="120" valign="baseline"> opt.init</td><td valign="baseline"><font face="Courier" size="2">   = </font>'cs';</td></tr><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;D</font></td><td valign="baseline"><font face="Courier" size="2">   = </font>sqrt(distm(a)); % Compute the Euclidean distance dataset of<font face="Courier" size="2"> A </font></td></tr><tr> <td width="120" valign="baseline"> w1</td><td valign="baseline"><font face="Courier" size="2">  = </font>mds<font face="Courier" size="2">(D,2</font>,opt);<font face="Courier" size="2">   </font>% An<font face="Courier" size="2"> MDS </font>map onto<font face="Courier" size="2"> 2D </font>initialized by Classical Scaling,&nbsp; % optimised by a Scaled Conjugate Gradients algorithm</td></tr><tr> <td width="120" valign="baseline"> n</td><td valign="baseline"><font face="Courier" size="2">   = </font>size<font face="Courier" size="2">(D,1); </font></td></tr><tr> <td width="120" valign="baseline"> y</td><td valign="baseline"><font face="Courier" size="2">   = </font>rand(n<font face="Courier" size="2">,2); </font></td></tr><tr> <td width="120" valign="baseline"> w2</td><td valign="baseline"><font face="Courier" size="2">  = </font>mds<font face="Courier" size="2">(D</font>,y,opt);<font face="Courier" size="2">   </font>% An<font face="Courier" size="2"> MDS </font>map onto<font face="Courier" size="2"> 2D </font>initialized by random vectors</td></tr><tr> <td width="120" valign="baseline"> z</td><td valign="baseline"><font face="Courier" size="2">  = </font>rand(n,n);<font face="Courier" size="2">       </font>% Set around 40% of the random distances to <font face="Courier" size="2">NaN</font>, i.e.</td></tr><tr> <td width="120" valign="baseline"> z</td><td valign="baseline"><font face="Courier" size="2">  = </font>(z+z')/2;<font face="Courier" size="2">        </font>% not used in the<font face="Courier" size="2"> MDS </font>mapping</td></tr><tr> <td width="120" valign="baseline"> z</td><td valign="baseline"><font face="Courier" size="2">  = </font>find(z<font face="Courier" size="2"> <= 0.6); </font></td></tr><tr> <td width="120" valign="baseline"> D(z)</td><td valign="baseline"><font face="Courier" size="2">  = </font><font face="Courier" size="2">NaN</font>;</td></tr><tr> <td width="120" valign="baseline"> D(1:n+1:n^2)</td><td valign="baseline"><font face="Courier" size="2">  = 0;    </font>% Set the diagonal to zero</td></tr><tr> <td width="120" valign="baseline"> opt.optim</td><td valign="baseline"><font face="Courier" size="2">  = </font>'pn';</td></tr><tr> <td width="120" valign="baseline"> opt.init</td><td valign="baseline"><font face="Courier" size="2">   = </font>'randnp';</td></tr><tr> <td width="120" valign="baseline"> opt.etol</td><td valign="baseline"><font face="Courier" size="2">   = </font>1e-8;<font face="Courier" size="2">    </font>% Should be high, as only some distances are used</td></tr><tr> <td width="120" valign="baseline"> w3</td><td valign="baseline"><font face="Courier" size="2">  = </font>mds<font face="Courier" size="2">(D,2</font>,opt);<font face="Courier" size="2">   </font>% An<font face="Courier" size="2"> MDS </font>map onto<font face="Courier" size="2"> 2D </font>initialized by a random projection</td></tr></td></tr></table>
</p><h3> Reference(s)</h3><p>1. M.F. Moler, A Scaled Conjugate Gradient Algorithm for Fast Supervised&nbsp;Learning', Neural Networks, vol. 6, 525-533, 1993.<br>2. W.H. Press, S.A. Teukolsky, W.T. Vetterling and B.P. Flannery,&nbsp;Numerical Recipes in C, Cambridge University Press, Cambridge, 1992.<br>3. I. Borg and P. Groenen, Modern Multidimensional Scaling, Springer&nbsp;Verlag, Berlin, 1997.<br>4. T.F. Cox and M.A.A. Cox, Multidimensional Scaling, Chapman and Hall,&nbsp;London, 1994.</p><h3> See also</h3><p>
<font face="Courier" size="3"><a href="../prtools/datasets.html">datasets</a>, <a href="../prtools/mappings.html">mappings</a>, <a href="../prtools/prex_mds.html">prex_mds</a>, <a href="../prtools/mds_cs.html">mds_cs</a>, <a href="../prtools/sammonm.html">sammonm</a>, <a href="../prtools/tsnem.html">tsnem</a>, </font></p><table border="0" cellspacing="0" cellpadding="3" width="100%" align="center"><tr><td><a href="../prtools.html">PRTools Contents</a></td><td><p align="right"><a href="http://37steps.com/prtools/" target="_top">PRTools User Guide</a></p></td></tr></table><table border="0" cellspacing="0" cellpadding="3" width="100%"><tr><td align="center"><em>This file has been automatically generated. If badly readable, use the help-command in Matlab.</em></td></tr></table></table></body></html>