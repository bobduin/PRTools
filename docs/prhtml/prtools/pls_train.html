<html><body bgcolor="#3030a0"><table bgcolor="#eeeeee"  border="5" cellspacing="0" cellpadding="5" width="700" white-space="normal"  align="center"><tr><td><table border="0" cellspacing="0" cellpadding="3" width="100%" align="center"><tr><td><a href="../prtools.html">PRTools Contents</a></td><td><p align="right"><a href="http://37steps.com/prtools/" target="_top">PRTools User Guide</a></p></td></tr></table><head><title>pls_train</title></head>
<p align="center"><font face="Courier" size=5><strong>PLS_TRAIN</strong></font></p>
<h3> Partial Least Squares (training)
</h3>
<p>
</p>
<p><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;[B,XRes,YRes,Options]&nbsp;=&nbsp;pls_train(X,Y)
</font><br><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;[B,XRes,YRes,Options]&nbsp;=&nbsp;pls_train(X,Y,Options)
</font><br></p>
<p><font face="Courier" size="2">&nbsp;&nbsp;INPUT</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;X   [N -by- d_X]  the training (input)  data matrix, N samples, d_X variables</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;Y   [N -by- d_Y]  the training (output) data matrix, N samples, d_Y variables</font><br>
</p>
<p><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;Options.</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;maxLV        maximal number of latent variables (will be corrected</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if > rank(X));</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxLV=inf means maxLV=min(N,d_X) -- theoretical maximum</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number of LV;</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by default =inf</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;method       'NIPALS' or 'SIMPLS'; by default ='SIMPLS'</font><br>
</p>
<p><font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;X_centering  do nothing (=[] or 0), do mean centering (=nan), center</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;around some vaue v (=v);</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by default  =[]</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;Y_centering  do nothing (=[] or 0), do mean centering (=nan), center</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;around some vaue v (=v);</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by default  =[]</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;X_scaling    do nothing (=[] or 1), divide each col by std (=nan),</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;divide by some v (=v);</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by default =[]</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;Y_scaling    do nothing (=[] or 1), divide each col by std (=nan),</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;divide by some v (=v);</font><br>
<font face="Courier" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by default =[]</font><br>
</p>
<p></p><p><table cellspacing="0" cellpadding="3" width="100%" align="center" border="0"<tr> <td width="120"><font size="4"><strong>Output</strong></font></td><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;B</font></td><td valign="baseline"><font face="Courier" size="2">       </font>[d_X -by- d_Y -by- nLV]  collection of regression matrices:&nbsp; Y_new<font face="Courier" size="2"> = </font>X_new*B<font face="Courier" size="2">(:,:</font>,n) represents regression on the first n&nbsp; latent variables (X_new here after preprocessing, Y_new before&nbsp; un-preprocessing)&nbsp; XRes.&nbsp; ssq<font face="Courier" size="2">  [1 -</font>by- nLV]<font face="Courier" size="2">    </font>the part of explaind sum of squares of&nbsp; (preprocessed)<font face="Courier" size="2"> X </font>matrix<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;T</font></td><td valign="baseline"><font face="Courier" size="2">     [N -</font>by- nLV]<font face="Courier" size="2">    </font>scores<font face="Courier" size="2">   </font>(transformed (preprocessed)<font face="Courier" size="2"> X) </font><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;R</font></td><td valign="baseline"><font face="Courier" size="2">     </font>[d_X -by- nLV]  weights  (transformation matrix)<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;P</font></td><td valign="baseline"><font face="Courier" size="2">     </font>[d_X -by- nLV]  loadings (back-transformation matrix)&nbsp;<font face="Courier" size="2"> P(:</font>,k) are the regression coef of&nbsp; (preprocessed)<font face="Courier" size="2"> X </font>on<font face="Courier" size="2"> T(:</font>,k)<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;W</font></td><td valign="baseline"><font face="Courier" size="2">     </font>[d_X -by- nLV]  local weights (local transformation matrix);<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;ONLY</font></td><td valign="baseline"><font face="Courier" size="2">  FOR NIPALS </font><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;V</font></td><td valign="baseline"><font face="Courier" size="2">     </font>[d_X -by- nLV]  first k columns of this matrix are the&nbsp; orthornormal basis of the space spanned by k&nbsp; first columns of<font face="Courier" size="2"> P; ONLY FOR SIMPLS </font> YRes.&nbsp; ssq<font face="Courier" size="2">  [1 -</font>by- nLV]<font face="Courier" size="2">    </font>the part of explained sum of squares of&nbsp; (preprocessed)<font face="Courier" size="2"> Y </font>matrix<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;U</font></td><td valign="baseline"><font face="Courier" size="2">     [N -</font>by- nLV]<font face="Courier" size="2">    </font>scores<font face="Courier" size="2">   </font>(transformed (preprocessed)<font face="Courier" size="2"> Y) </font><tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;Q</font></td><td valign="baseline"><font face="Courier" size="2">     </font>[d_Y -by- nLV]  weights  (transformation matrix)<tr> <td width="120" valign="baseline"><font face="Courier" size="2">&nbsp;C</font></td><td valign="baseline"><font face="Courier" size="2">     </font>[d_Y -by- nLV]<font face="Courier" size="2">  C(:</font>,k) are the regression coeff of&nbsp; (preprocessed)<font face="Courier" size="2"> Y </font>on<font face="Courier" size="2"> T(:</font>,k)&nbsp; bin<font face="Courier" size="2">  [1 -</font>by- nLV]<font face="Courier" size="2">    </font>bin(k) is the regression coeff of<font face="Courier" size="2"> U(:</font>,k) on<font face="Courier" size="2"> T(:</font>,k)</td></tr></table>
&nbsp; Options. contains the same fields as in input, but the values can be changed&nbsp; (e.g. after mean centering X_centering<font face="Courier" size="2"> = </font>mean<font face="Courier" size="2">(X,1)) </font></p><h3> Description</h3><p> Trains<font face="Courier" size="2"> PLS </font>(Partial Least Squares) regression model</p>
<p> Relations between matrices<font face="Courier" size="2"> (X </font>end<font face="Courier" size="2"> Y </font>are assumed to be preprocessed)<br><font face="Courier" size="2"> NIPALS </font><br><font face="Courier" size="2"> T = X*R </font>(columns of<font face="Courier" size="2"> T </font>are orthogonal)&nbsp;<font face="Courier" size="2"> R = </font>W*prinv<font face="Courier" size="2">(P'*W) </font><font face="Courier" size="2"> P = </font>X'*T*prinv<font face="Courier" size="2">(T'*T) </font><font face="Courier" size="2"> U = Y*Q -</font><font face="Courier" size="2"> T*(C'*Q-</font>tril<font face="Courier" size="2">(C'*Q)) </font><font face="Courier" size="2"> C = </font>Y'*T*prinv<font face="Courier" size="2">(T'*T) = </font>Q*diag(bin)&nbsp; bin<font face="Courier" size="2"> = </font>sqrt(diag(T'*Y*Y'*T))'*prinv<font face="Courier" size="2">(T'*T)) </font><font face="Courier" size="2"> B = R*C' = </font>W*prinv<font face="Courier" size="2">(P'*W)*C' </font></p>
<p><font face="Courier" size="2"> SIMPLS </font><br><font face="Courier" size="2"> T = X*R </font>(columns of<font face="Courier" size="2"> T </font>are orthonormal)&nbsp;<font face="Courier" size="2"> P = X'*T </font><font face="Courier" size="2"> U = Y*Q </font><font face="Courier" size="2"> C = Y'*T = </font>Q*diag(bin)&nbsp; bin<font face="Courier" size="2"> = </font>sqrt(diag<font face="Courier" size="2">(T'*Y*Y'*T))' </font><font face="Courier" size="2"> B = R*C' </font></p>
<p><font face="Courier" size="2"> BOTH </font><br> T_new<font face="Courier" size="2"> = </font>X_new*R&nbsp; Y_new<font face="Courier" size="2"> = </font>X_new*B</p><h3> See also</h3><p>
<font face="Courier" size="3"><a href="../prtools/pls_apply.html">pls_apply</a>, <a href="../prtools/pls_transform.html">pls_transform</a>, </font></p><table border="0" cellspacing="0" cellpadding="3" width="100%" align="center"><tr><td><a href="../prtools.html">PRTools Contents</a></td><td><p align="right"><a href="http://37steps.com/prtools/" target="_top">PRTools User Guide</a></p></td></tr></table><table border="0" cellspacing="0" cellpadding="3" width="100%"><tr><td align="center"><em>This file has been automatically generated. If badly readable, use the help-command in Matlab.</em></td></tr></table></table></body></html>